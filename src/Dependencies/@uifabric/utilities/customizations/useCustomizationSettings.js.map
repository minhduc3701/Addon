{"version":3,"file":"useCustomizationSettings.js","sourceRoot":"../src/","sources":["customizations/useCustomizationSettings.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAa,cAAc,EAAmB,MAAM,kBAAkB,CAAC;AAE9E;;GAEG;AACH,MAAM,UAAU,wBAAwB,CACtC,UAAoB,EACpB,SAAkB,EAClB,aAA+B;IAEzB,IAAA,qFAA0G,EAAzG,gBAAQ,EAAE,mBAA+F,CAAC;IAEjH,IAAM,qBAAqB,GAAG,KAAK,CAAC,WAAW,CAAC;QAC9C,IAAM,cAAc,GAAG,cAAc,CAAC,WAAW,CAAC,UAAU,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;QACxF,WAAW,CAAC,cAAc,CAAC,CAAC;IAC9B,CAAC,EAAE,CAAC,UAAU,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC;IAE3C,KAAK,CAAC,SAAS,CAAC;QACd,cAAc,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;QAE9C,OAAO,cAAM,OAAA,cAAc,CAAC,SAAS,CAAC,qBAAqB,CAAC,EAA/C,CAA+C,CAAC;IAC/D,CAAC,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC;IAE5B,OAAO,QAAQ,CAAC;AAClB,CAAC","sourcesContent":["import * as React from 'react';\nimport { ISettings, Customizations, ICustomizations } from './Customizations';\n\n/**\n * Hook to get Customizations settings. It will trigger component state update on settings change observed.\n */\nexport function useCustomizationSettings(\n  properties: string[],\n  scopeName?: string,\n  localSettings?: ICustomizations,\n): ISettings {\n  const [settings, setSettings] = React.useState(Customizations.getSettings(properties, scopeName, localSettings));\n\n  const onCustomizationChange = React.useCallback(() => {\n    const globalSettings = Customizations.getSettings(properties, scopeName, localSettings);\n    setSettings(globalSettings);\n  }, [properties, scopeName, localSettings]);\n\n  React.useEffect(() => {\n    Customizations.observe(onCustomizationChange);\n\n    return () => Customizations.unobserve(onCustomizationChange);\n  }, [onCustomizationChange]);\n\n  return settings;\n}\n"]}